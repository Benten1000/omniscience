;================== EXTENSIONS CONFIG ==================

[from-telegram]
exten => _X.,1,NoOp(Outgoing call from Telegram bot to VoIP.ms)
 same => n,Answer()
 same => n,Playback(welcome)
 same => n,Read(userinput,beep,15,,#)    ; allow full E.164 number (up to 15 digits)
 same => n,Set(GLOBAL(LASTINPUT)=${userinput})
 same => n,Playback(thank-you)
 same => n,Dial(PJSIP/${userinput}@voipms-aor,30)
 same => n,Hangup()


[default]
; This context can be used for local testing or other internal calls
exten => 1000,1,Answer()
 same => n,Playback(welcome)                       ; replace with your own audio file
 same => n,Read(userinput,beep,5,,#)             ; collect up to 5 digits
 same => n,Set(GLOBAL(LASTINPUT)=${userinput})
 same => n,Playback(thank-you)
 same => n,Hangup()

[from-voipms]
; This context handles incoming calls from VoIP.ms
exten => _X.,1,NoOp(Incoming call from VoIP.ms)
 same => n,Playback(hello)                         ; optional greeting
 same => n,Read(userinput,beep,5,,#)             ; collect digits from the caller
 same => n,Set(GLOBAL(LASTINPUT)=${userinput})
 same => n,Playback(thank-you)
 same => n,Hangup()
